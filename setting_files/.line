if [[ -z ${UMA_LINE_ACCESSTOKEN} ]]
then
  echo "Line funtion is not available."
  echo 'Please set UMA_LINE_ACCESSTOKEN variable'
fi

_notify() {
  msg=$(cat -)
  echo $msg
  curl -X POST -H "Authorization: Bearer $UMA_LINE_ACCESSTOKEN" -F "message=$msg" \
  https://notify-api.line.me/api/notify

}

line_notify() {
  if [ -p /dev/stdin ]; then
      cat -
  else
      echo $@
  fi | _notify
}
